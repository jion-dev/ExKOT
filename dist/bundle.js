(()=>{"use strict";const e="勤務開始します。",n="勤務終了します。",o="discord";async function t(t){const{discordWebhookURL:s,name:c,comingMessage:a,leavingMessage:i}=await async function(){const o=await chrome.storage.sync.get(["discordWebhookURL","name","comingMessage","leavingMessage"]);return o.comingMessage||(o.comingMessage=e),o.leavingMessage||(o.leavingMessage=n),o}();if(!s)return void window.alert("\n    勤怠報告をするには、拡張機能の「オプション画面」にて送信したいチャンネルのwebhookのURLを指定する必要があります。\n    打刻は正常に行われています。\n    ");const r=t?a:i,d={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:r})};fetch(s,d).then((e=>{e.ok?window.alert(`${o}チャネルに"${r}"というメッセージが送信されました。`):(console.log("error",e),window.alert("メッセージを正常に送信できませんでした。"))}))}setTimeout((function(){const e=Array.from(document.getElementsByClassName("record-btn-inner record-clock-in"));e[0]&&e[0].addEventListener("click",(async function(){await t(1)}),!1);const n=Array.from(document.getElementsByClassName("record-btn-inner record-clock-out"));n[0]&&n[0].addEventListener("click",(async function(){await t(0)}),!1),window.alert(`打刻すると指定した${o}チャネルに勤怠報告が送信されます。`)}),1e3)})();